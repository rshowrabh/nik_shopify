<section>
  <div class="row">
    <div class="col banner-wrapper">
      <div class="slide-text" id="text1">
        <p>Memebers: Free Shipping</p>
      </div>
      <div class="slide-text" id="text2">
        <p>Save Upto 40%</p>
      </div>
      <div class="slide-text" id="text3">
        <p>Get your Gear Faster</p>
      </div>
    </div>
  </div>
</section>
<style>
  .banner-wrapper {
    background: {{ section.settings.background }};
    color: {{ section.settings.text_color }};
  }
  .slide-text {
    position: relative;
    top: 155px;
    left: -150%;
    transform: translate(0, -50%);
    color: black;
    padding: 20px;
    transition: left 0.5s ease-in-out;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function(){
    const text1 = document.getElementById('text1')
    const text2 = document.getElementById('text2')
    const text3 = document.getElementById('text3')
    let texts = [text1, text2, text3];
    let currentIndex = 0;
    function slideToMiddle(element){
      element.style.left = '40%'
    }
    function resetPosition(element){
      element.style.left = "-100%"
    }
    function slideText(){
      resetPosition(texts[currentIndex])
      currentIndex = (currentIndex + 1 ) % texts.length
      slideToMiddle(texts[currentIndex])
    }
      slideToMiddle(texts[currentIndex])
  
      setInterval(slideText, 3000)
    
  })
</script>

{% schema %}
  {
    "name": "Banner",
    "settings": [
      {
        "type": "checkbox",
        "id": "show_announcement_bar",
        "label": "Show Announcement Bar",
        "default": true
      }, {
        "type": "color",
        "id": "announcement_bar_color",
        "label": "Announcement Bar Color",
        "default": "#eb3434"
      }
    ],
    "presets": [
      {
        "name": "banner"
      }
    ]

  }
{% endschema %}